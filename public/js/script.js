$(document).ready(function(){$(function(){var e=$(".content__container");e.hide().filter(":first").show(),$(".content__tab").click(function(){return e.hide(),e.filter(this.hash).show(),$(".content__tab").removeClass("active"),$(this).addClass("active"),!1}).filter(":first").click()})}),$(document).ready(function(){$(".select-simple .select-main").click(function(){$(this).parent().hasClass("disabled")||($(".select").removeClass("active"),$(this).parent().addClass("active"))}),$(".select-multi .select-main").click(function(){$(".select").removeClass("active"),$(this).parent().addClass("active")}),$(".select-simple .select-item").click(function(){$(".select-simple").removeClass("active");var e=$(this).text();$(this).parent().parent().prev().children("span").text(e)})}),$(document).mouseup(function(e){var t=$(".select");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("active")}),$(document).ready(function(){$(".btn-filter").click(function(){$(this).closest(".content__box").find(".filter").addClass("active")}),$(".filter__close").click(function(){$(this).closest(".filter").removeClass("active")})}),$(document).ready(function(){const d="flatpickr-custom-year-select";$(".datepicker").flatpickr({dateFormat:"d.m.Y",altFormat:"d.m.Y",allowInput:!0,mode:"range",locale:"ru",minDate:"01.01.2020",maxDate:"today",onChange:function(){$(".datepicker").blur()},onReady:function(e,t,n){const i=n.currentYearElement,a=i.parentElement.children;for(var s in a)a.hasOwnProperty(s)&&(a[s].style.display="none");const l=document.createElement("select");var o=new Date(n.config._minDate).getFullYear(),c=new Date(n.config._maxDate).getFullYear();for(let e=o;e<c+1;e++){const r=document.createElement("option");r.value=""+e,r.text=""+e,l.appendChild(r)}l.addEventListener("change",function(e){i.value=e.target.value,n.currentYear=parseInt(e.target.value),n.redraw()}),l.className="flatpickr-monthDropdown-months",l.id=d,l.value=n.currentYearElement.value,i.parentElement.appendChild(l)},onMonthChange:function(e,t,n){document.getElementById(d).value=""+n.currentYear}})}),$(document).ready(function(){$(".content__setting").click(function(){$(this).closest(".content__box").find(".setting").toggleClass("active")})}),$(document).mouseup(function(e){var t=$(".setting");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("active")}),$(document).ready(function(){$(".content__box").find(".table").find(".input").prop("disabled",!0),$(".btn-change").click(function(){$(this).closest(".content__box").find(".table").hasClass("edit")?($(this).text("Редактировать"),$(this).closest(".content__box").find(".table").removeClass("edit"),$(this).closest(".content__box").find(".table").find(".input").prop("disabled",!0)):($(this).text("Сохранить"),$(this).closest(".content__box").find(".table").addClass("edit"),$(this).closest(".content__box").find(".table").find(".input").prop("disabled",!1))})}),$(document).ready(function(){var o,i;o=void 0!==$("<input/>")[0].multiple,i=/msie/i.test(navigator.userAgent),$.fn.customFile=function(){return this.each(function(){var s=$(this).addClass("custom-file-upload-hidden"),e=$('<div class="file-upload-wrapper">'),l=$('<div class="file-upload-input"></div>'),t=$('<button type="button" class="btn btn-whbk file-upload-button">Добавить</button>'),n=$('<label class="file-upload-button" for="'+s[0].id+'">Добавить</label>');s.css({position:"absolute"}),e.insertAfter(s).append(s,l,i?n:t),s.attr("tabIndex",-1),t.attr("tabIndex",-1),t.click(function(){s.focus().click()}),s.change(function(){var e,t=[];if(o){for(var n,i=0,a=(n=s[0].files).length;i<a;i++)t.push(n[i].name);e=t.join(", ")}else e=s.val().split("\\").pop();l.text(e).attr("title",e).focus()}),l.on({blur:function(){s.trigger("blur")},keydown:function(e){if(13===e.which)i||s.trigger("click");else if(8===e.which||46===e.which)s.replaceWith(s=s.clone(!0)),s.trigger("change"),l.val("");else if(9!==e.which)return!1}})})},o||$(document).on("change","input.customfile",function(){var e=$(this),t="customfile_"+(new Date).getTime(),n=e.parent(),i=n.siblings().find(".file-upload-input").filter(function(){return!this.value}),a=$('<input type="file" id="'+t+'" name="'+e.attr("name")+'"/>');setTimeout(function(){e.val()?i.length||(n.after(a),a.customFile()):(i.parent().remove(),n.appendTo(n.parent()),n.find("input").focus())},1)}),$("input[type=file]").customFile()}),$(document).ready(function(){$(".js-popup").click(function(e){e.preventDefault();e=$(this).attr("href");$(e).addClass("show"),$("body").addClass("ov-hid")}),$(".popup__close").click(function(){$(this).closest(".popup").removeClass("show"),$("body").removeClass("ov-hid")}),$(document).mouseup(function(e){var t=$(".popup__wrapper");t.is(e.target)||0!==t.has(e.target).length||(t.closest(".popup").removeClass("show"),$("body").removeClass("ov-hid"))}),$(".icon-edit.js-popup").on("click",function(){var e=$(this).closest(".table__item"),t=e.find(".table__item-col.col-sh2 span").text(),n=e.find(".table__item-col.col-sh4 span").text(),i=e.find(".table__item-col.col-sh5 span").text(),a=e.find(".table__item-col.col-sh6 span").text(),s=e.find(".table__item-col.col-sh7 span").text(),l=e.find(".table__item-col.col-sh8 span").text(),e=$("#addSisShared .popup__wrapper");e.find(".select").find(".select-main span").text(t),e.find(':input[name="director"]').attr("value",n),e.find(':input[name="directorTelephone"]').attr("value",i),e.find(':input[name="dispatcher"]').attr("value",a),e.find(':input[name="dispatcherTelephone"]').attr("value",s),e.find(':input[name="email"]').attr("value",l)}),$("#addSisShared .popup__close, #addSisShared .js-calcel").click(function(){$(this).closest(".popup").removeClass("show"),$("body").removeClass("ov-hid");var e=$("#addSisShared .popup__wrapper");e.find(".select").find(".select-main span").text("Выбрать"),e.find(':input[name="director"]').attr("value",""),e.find(':input[name="directorTelephone"]').attr("value",""),e.find(':input[name="dispatcher"]').attr("value",""),e.find(':input[name="dispatcherTelephone"]').attr("value",""),e.find(':input[name="email"]').attr("value","")})});